<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç°¡å–®æ¸¬è©¦ - ç„¡éšœç¤™å»æ‰€GO V2</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-item {
            margin: 10px 0;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .success { border-color: #4CAF50; background-color: #f1f8e9; }
        .error { border-color: #f44336; background-color: #ffebee; }
        .warning { border-color: #ff9800; background-color: #fff3e0; }
        .info { border-color: #2196F3; background-color: #e3f2fd; }
        pre {
            background: #f5f5f5;
            padding: 10px;
            border-radius: 4px;
            overflow-x: auto;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>ğŸ§ª ç°¡å–®è…³æœ¬è¼‰å…¥æ¸¬è©¦</h1>
        <p>æ­¤é é¢é€æ­¥è¼‰å…¥è…³æœ¬ä¸¦æª¢æŸ¥æ¯å€‹æ­¥é©Ÿã€‚</p>
        
        <div id="test-results">
            <div class="test-item info">
                <strong>â³ æº–å‚™è¼‰å…¥è…³æœ¬...</strong>
            </div>
        </div>
    </div>

    <script>
        let testResults = document.getElementById('test-results');
        
        function addTestItem(message, type = 'info', details = null) {
            const div = document.createElement('div');
            div.className = `test-item ${type}`;
            
            let content = `<strong>${message}</strong>`;
            if (details) {
                content += `<pre>${details}</pre>`;
            }
            
            div.innerHTML = content;
            testResults.appendChild(div);
        }
        
        function checkService(name, service) {
            if (service) {
                addTestItem(`âœ… ${name} è¼‰å…¥æˆåŠŸ`, 'success', 
                    `é¡å‹: ${typeof service}, å»ºæ§‹å‡½æ•¸: ${service.constructor?.name || 'N/A'}`);
                return true;
            } else {
                addTestItem(`âŒ ${name} è¼‰å…¥å¤±æ•—`, 'error');
                return false;
            }
        }
        
        // é€æ­¥è¼‰å…¥è…³æœ¬
        function loadScripts() {
            addTestItem('ğŸ“¦ é–‹å§‹è¼‰å…¥è…³æœ¬...', 'info');
            
            // è¼‰å…¥ config.js
            const script1 = document.createElement('script');
            script1.src = 'js/config.js';
            script1.onload = () => {
                addTestItem('ğŸ“„ config.js è¼‰å…¥å®Œæˆ', 'info');
                setTimeout(() => {
                    checkService('CONFIG', window.CONFIG);
                }, 100);
            };
            script1.onerror = () => {
                addTestItem('âŒ config.js è¼‰å…¥å¤±æ•—', 'error');
            };
            document.head.appendChild(script1);
            
            // è¼‰å…¥ utils.js
            const script2 = document.createElement('script');
            script2.src = 'js/utils.js';
            script2.onload = () => {
                addTestItem('ğŸ“„ utils.js è¼‰å…¥å®Œæˆ', 'info');
                setTimeout(() => {
                    checkService('Utils', window.Utils);
                }, 100);
            };
            script2.onerror = () => {
                addTestItem('âŒ utils.js è¼‰å…¥å¤±æ•—', 'error');
            };
            document.head.appendChild(script2);
            
            // è¼‰å…¥ api.js
            const script3 = document.createElement('script');
            script3.src = 'js/api.js';
            script3.onload = () => {
                addTestItem('ğŸ“„ api.js è¼‰å…¥å®Œæˆ', 'info');
                setTimeout(() => {
                    checkService('APIService', window.APIService);
                }, 100);
            };
            script3.onerror = () => {
                addTestItem('âŒ api.js è¼‰å…¥å¤±æ•—', 'error');
            };
            document.head.appendChild(script3);
            
            // è¼‰å…¥ map.js
            const script4 = document.createElement('script');
            script4.src = 'js/map.js';
            script4.onload = () => {
                addTestItem('ğŸ“„ map.js è¼‰å…¥å®Œæˆ', 'info');
                setTimeout(() => {
                    checkService('MapService', window.MapService);
                }, 100);
            };
            script4.onerror = () => {
                addTestItem('âŒ map.js è¼‰å…¥å¤±æ•—', 'error');
            };
            document.head.appendChild(script4);
            
            // è¼‰å…¥ accessibility.js
            const script5 = document.createElement('script');
            script5.src = 'js/accessibility.js';
            script5.onload = () => {
                addTestItem('ğŸ“„ accessibility.js è¼‰å…¥å®Œæˆ', 'info');
                setTimeout(() => {
                    checkService('AccessibilityService', window.AccessibilityService);
                }, 100);
            };
            script5.onerror = () => {
                addTestItem('âŒ accessibility.js è¼‰å…¥å¤±æ•—', 'error');
            };
            document.head.appendChild(script5);
            
            // è¼‰å…¥ navigation.js
            const script6 = document.createElement('script');
            script6.src = 'js/navigation.js';
            script6.onload = () => {
                addTestItem('ğŸ“„ navigation.js è¼‰å…¥å®Œæˆ', 'info');
                setTimeout(() => {
                    checkService('NavigationService', window.NavigationService);
                }, 100);
            };
            script6.onerror = () => {
                addTestItem('âŒ navigation.js è¼‰å…¥å¤±æ•—', 'error');
            };
            document.head.appendChild(script6);
            
            // è¼‰å…¥ search.js
            const script7 = document.createElement('script');
            script7.src = 'js/search.js';
            script7.onload = () => {
                addTestItem('ğŸ“„ search.js è¼‰å…¥å®Œæˆ', 'info');
                setTimeout(() => {
                    checkService('SearchService', window.SearchService);
                }, 100);
            };
            script7.onerror = () => {
                addTestItem('âŒ search.js è¼‰å…¥å¤±æ•—', 'error');
            };
            document.head.appendChild(script7);
            
            // è¼‰å…¥ main.js
            const script8 = document.createElement('script');
            script8.src = 'js/main.js';
            script8.onload = () => {
                addTestItem('ğŸ“„ main.js è¼‰å…¥å®Œæˆ', 'info');
                setTimeout(() => {
                    checkService('App', window.App);
                    
                    // æœ€çµ‚æª¢æŸ¥
                    setTimeout(() => {
                        addTestItem('ğŸ¯ æœ€çµ‚æª¢æŸ¥æ‰€æœ‰æœå‹™...', 'info');
                        const allServices = ['CONFIG', 'Utils', 'APIService', 'AccessibilityService', 'NavigationService', 'SearchService', 'MapService', 'App'];
                        let successCount = 0;
                        
                        allServices.forEach(service => {
                            if (window[service]) {
                                successCount++;
                            }
                        });
                        
                        if (successCount === allServices.length) {
                            addTestItem(`ğŸ‰ æ‰€æœ‰æœå‹™è¼‰å…¥æˆåŠŸï¼(${successCount}/${allServices.length})`, 'success');
                        } else {
                            addTestItem(`âš ï¸ éƒ¨åˆ†æœå‹™è¼‰å…¥å¤±æ•— (${successCount}/${allServices.length})`, 'warning');
                        }
                    }, 500);
                }, 100);
            };
            script8.onerror = () => {
                addTestItem('âŒ main.js è¼‰å…¥å¤±æ•—', 'error');
            };
            document.head.appendChild(script8);
        }
        
        // é é¢è¼‰å…¥å®Œæˆå¾Œé–‹å§‹è¼‰å…¥è…³æœ¬
        window.addEventListener('load', () => {
            setTimeout(() => {
                loadScripts();
            }, 100);
        });
    </script>
</body>
</html>
