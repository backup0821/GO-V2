# 無障礙廁所GO V2 - 開始使用指南

## 🚀 快速開始

### 方法一：直接開啟（最簡單）
1. 下載所有檔案到本地資料夾
2. 申請 Google Maps API Key
3. 編輯 `js/config.js`，將 `YOUR_GOOGLE_MAPS_API_KEY` 替換為您的API Key
4. 雙擊 `index.html` 在瀏覽器中開啟

### 方法二：使用本地伺服器（推薦）
```bash
# 使用 Python
python -m http.server 8000

# 使用 Node.js
npx serve .

# 使用 PHP
php -S localhost:8000
```

然後訪問 `http://localhost:8000`

### 方法三：GitHub Pages 部署
1. Fork 專案到您的 GitHub 帳號
2. 執行 `setup-github.bat` 初始化
3. 執行 `deploy.bat` 部署
4. 設定 GitHub Secrets 中的 `VITE_GOOGLE_MAPS_API_KEY`

## 🔑 Google Maps API Key 申請

### 步驟一：建立 Google Cloud 專案
1. 前往 [Google Cloud Console](https://console.cloud.google.com/)
2. 建立新專案或選擇現有專案

### 步驟二：啟用 Maps JavaScript API
1. 在左側選單中選擇「API 和服務」→「程式庫」
2. 搜尋「Maps JavaScript API」
3. 點擊「啟用」

### 步驟三：建立 API 金鑰
1. 前往「API 和服務」→「憑證」
2. 點擊「建立憑證」→「API 金鑰」
3. 複製產生的 API 金鑰

### 步驟四：設定 API 金鑰限制（建議）
1. 點擊 API 金鑰進行編輯
2. 在「應用程式限制」中選擇「HTTP 參照網址」
3. 新增您的網域（例如：`localhost:8000/*`、`your-domain.com/*`）

### 步驟五：在專案中設定
編輯 `js/config.js` 檔案：
```javascript
MAPS: {
    API_KEY: '您的API金鑰'
}
```

## 📱 功能說明

### 主要功能
- **🔍 搜尋廁所** - 輸入關鍵字或使用位置搜尋
- **🗺️ 地圖顯示** - 在地圖上查看廁所位置
- **📋 詳細資訊** - 查看廁所類型、等級、設施等
- **🧭 導航功能** - 開啟Google Maps導航
- **⭐ 收藏功能** - 收藏常用廁所
- **♿ 無障礙功能** - 完整的無障礙支援

### 無障礙功能
- **⌨️ 鍵盤導航** - 完整的鍵盤操作支援
- **🔊 螢幕閱讀器** - 支援各種螢幕閱讀器
- **🎨 高對比模式** - 視覺障礙者友善
- **📏 大字體模式** - 可調整字體大小
- **🎬 減少動畫** - 尊重使用者偏好

### 快捷鍵
- `Ctrl + /` - 聚焦搜尋框
- `Alt + 1-4` - 快速導航
- `Alt + A` - 開啟無障礙設定
- `Esc` - 關閉模態框

## 🛠️ 開發說明

### 專案架構
```
無障礙廁所GO V2/
├── index.html              # 主頁面
├── css/                    # 樣式檔案
│   ├── styles.css          # 主要樣式
│   ├── accessibility.css   # 無障礙樣式
│   └── responsive.css      # 響應式樣式
├── js/                     # JavaScript檔案
│   ├── config.js           # 配置
│   ├── utils.js            # 工具函數
│   ├── api.js              # API服務
│   ├── map.js              # 地圖服務
│   ├── accessibility.js    # 無障礙功能
│   ├── navigation.js       # 導航功能
│   ├── search.js           # 搜尋功能
│   └── main.js             # 主應用程式
└── manifest.json           # PWA配置
```

### 核心模組
- **Config** - 應用程式配置
- **Utils** - 通用工具函數
- **API** - 環保署API整合
- **Map** - Google Maps整合
- **Accessibility** - 無障礙功能
- **Navigation** - 頁面導航
- **Search** - 搜尋功能
- **App** - 主應用程式

## 🌐 瀏覽器支援

### 完全支援
- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

### 功能限制
- IE - 不支援
- 舊版瀏覽器 - 部分功能可能無法使用

## 📊 資料來源

### 環保署公共廁所API
- **API URL**: `https://data.moenv.gov.tw/api/v2/fac_p_07`
- **資料內容**: 全台公共廁所資訊
- **更新頻率**: 定期更新
- **授權**: 政府開放資料

### 資料欄位
- 廁所名稱、地址、座標
- 廁所類型、等級
- 管理單位、無障礙設施
- 尿布檯等特殊設施

## 🔧 故障排除

### 常見問題

#### 1. 地圖無法顯示
**原因**: Google Maps API Key 未設定或無效
**解決**: 
- 檢查 `js/config.js` 中的 API Key
- 確認 API Key 有啟用 Maps JavaScript API
- 檢查網域限制設定

#### 2. 搜尋無結果
**原因**: API 連線問題或資料格式錯誤
**解決**:
- 檢查網路連線
- 查看瀏覽器控制台錯誤訊息
- 確認 API 金鑰有效

#### 3. 位置功能無法使用
**原因**: 瀏覽器位置權限被拒絕
**解決**:
- 允許瀏覽器存取位置資訊
- 檢查 HTTPS 連線（位置功能需要安全連線）
- 確認 GPS 功能已開啟

#### 4. 無障礙功能異常
**原因**: 瀏覽器或輔助技術相容性問題
**解決**:
- 更新瀏覽器到最新版本
- 檢查輔助技術軟體版本
- 嘗試不同的瀏覽器

### 除錯工具
- **瀏覽器開發者工具** - 檢查錯誤訊息
- **無障礙檢查器** - 驗證無障礙功能
- **網路面板** - 檢查API請求狀態
- **控制台** - 查看JavaScript錯誤

## 📈 效能優化

### 已實作的優化
- **圖片延遲載入** - 提升初始載入速度
- **程式碼分割** - 按需載入功能模組
- **本地快取** - 減少API請求次數
- **防抖和節流** - 優化搜尋和滾動效能
- **CSS變數** - 動態樣式調整

### 建議的進一步優化
- **Service Worker** - 離線功能支援
- **WebP圖片** - 更小的圖片檔案
- **Gzip壓縮** - 減少傳輸大小
- **CDN** - 加速靜態資源載入

## 🧪 測試

### 手動測試清單
- [ ] 搜尋功能正常
- [ ] 地圖顯示正確
- [ ] 無障礙功能運作
- [ ] 響應式設計適配
- [ ] 鍵盤導航完整
- [ ] 螢幕閱讀器相容
- [ ] 離線功能正常

### 自動化測試
- **無障礙測試** - axe-core
- **效能測試** - Lighthouse
- **跨瀏覽器測試** - BrowserStack
- **行動裝置測試** - 實機測試

## 🔒 安全性

### 已實作的安全措施
- **API Key 限制** - 網域和功能限制
- **輸入驗證** - 防止XSS攻擊
- **CSP標頭** - 內容安全政策
- **HTTPS** - 安全連線

### 建議的安全措施
- **定期更新** - 保持依賴套件最新
- **監控** - 異常流量監控
- **備份** - 定期資料備份
- **審計** - 安全性審計

## 📞 技術支援

### 聯絡方式
- **電子郵件**: makerbackup0821@gmail.com
- **GitHub Issues**: 技術問題回報
- **社群討論**: GitHub Discussions

### 支援範圍
- 技術問題解答
- 功能建議收集
- 無障礙功能諮詢
- 部署協助

## 🎯 未來規劃

### 短期目標
- [ ] 離線地圖支援
- [ ] 更多篩選條件
- [ ] 使用者回饋功能
- [ ] 多語言支援

### 長期目標
- [ ] 行動應用程式
- [ ] 社群功能
- [ ] AI智慧推薦
- [ ] 即時資訊更新

---

**祝您使用愉快！如有任何問題，歡迎隨時聯絡我們。** 🚽✨