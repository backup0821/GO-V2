<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœå‹™æ¸¬è©¦ - ç„¡éšœç¤™å»æ‰€GO V2</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-item {
            margin: 10px 0;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .success { border-color: #4CAF50; background-color: #f1f8e9; }
        .error { border-color: #f44336; background-color: #ffebee; }
        .loading { border-color: #ff9800; background-color: #fff3e0; }
        .info { border-color: #2196F3; background-color: #e3f2fd; }
        button {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        .btn-success { background: #4CAF50; color: white; }
        .btn-primary { background: #2196F3; color: white; }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>ğŸ”§ æœå‹™æ¸¬è©¦é é¢</h1>
        <p>æ­¤é é¢ç”¨æ–¼æ¸¬è©¦æ‰€æœ‰ JavaScript æœå‹™æ˜¯å¦æ­£å¸¸è¼‰å…¥å’Œåˆå§‹åŒ–ã€‚</p>
        
        <div id="test-results">
            <div class="test-item loading">
                <strong>â³ æ­£åœ¨æ¸¬è©¦æœå‹™è¼‰å…¥...</strong>
            </div>
        </div>
        
        <div style="margin-top: 20px;">
            <button class="btn-success" onclick="testServices()">ğŸ”„ é‡æ–°æ¸¬è©¦</button>
            <button class="btn-primary" onclick="window.location.href='index.html'">ğŸ  å›åˆ°é¦–é </button>
        </div>
    </div>

    <!-- è¼‰å…¥æ‰€æœ‰ JavaScript æª”æ¡ˆ -->
    <script src="js/config.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/api.js"></script>
    <script src="js/map.js"></script>
    <script src="js/accessibility.js"></script>
    <script src="js/navigation.js"></script>
    <script src="js/search.js"></script>
    <script src="js/main.js"></script>
    
    <script>
        // æ¸¬è©¦æœå‹™è¼‰å…¥
        function testServices() {
            const results = document.getElementById('test-results');
            results.innerHTML = '<div class="test-item loading"><strong>â³ æ­£åœ¨æ¸¬è©¦æœå‹™è¼‰å…¥...</strong></div>';
            
            setTimeout(() => {
                const tests = [
                    {
                        name: 'CONFIG é…ç½®',
                        test: () => typeof window.CONFIG !== 'undefined'
                    },
                    {
                        name: 'Utils å·¥å…·',
                        test: () => typeof Utils !== 'undefined'
                    },
                    {
                        name: 'API æœå‹™',
                        test: () => typeof window.APIService !== 'undefined'
                    },
                    {
                        name: 'AccessibilityService ç„¡éšœç¤™æœå‹™',
                        test: () => typeof window.AccessibilityService !== 'undefined'
                    },
                    {
                        name: 'NavigationService å°èˆªæœå‹™',
                        test: () => typeof window.NavigationService !== 'undefined'
                    },
                    {
                        name: 'SearchService æœå°‹æœå‹™',
                        test: () => typeof window.SearchService !== 'undefined'
                    },
                    {
                        name: 'MapService åœ°åœ–æœå‹™',
                        test: () => typeof window.MapService !== 'undefined'
                    },
                    {
                        name: 'App ä¸»æ‡‰ç”¨ç¨‹å¼',
                        test: () => typeof window.App !== 'undefined'
                    }
                ];
                
                results.innerHTML = '';
                
                tests.forEach(test => {
                    const div = document.createElement('div');
                    div.className = 'test-item';
                    
                    try {
                        const success = test.test();
                        if (success) {
                            div.className += ' success';
                            div.innerHTML = `<strong>âœ… ${test.name}</strong> - è¼‰å…¥æˆåŠŸ`;
                        } else {
                            div.className += ' error';
                            div.innerHTML = `<strong>âŒ ${test.name}</strong> - è¼‰å…¥å¤±æ•—`;
                        }
                    } catch (error) {
                        div.className += ' error';
                        div.innerHTML = `<strong>âŒ ${test.name}</strong> - éŒ¯èª¤: ${error.message}`;
                    }
                    
                    results.appendChild(div);
                });
                
                // æ¸¬è©¦æœå‹™åˆå§‹åŒ–
                setTimeout(() => {
                    testInitialization();
                }, 500);
            }, 100);
        }
        
        function testInitialization() {
            const results = document.getElementById('test-results');
            
            // æ¸¬è©¦ç„¡éšœç¤™æœå‹™åˆå§‹åŒ–
            const accessibilityTest = document.createElement('div');
            accessibilityTest.className = 'test-item';
            
            try {
                if (window.AccessibilityService && typeof window.AccessibilityService.initialize === 'function') {
                    window.AccessibilityService.initialize();
                    accessibilityTest.className += ' success';
                    accessibilityTest.innerHTML = '<strong>âœ… AccessibilityService åˆå§‹åŒ–</strong> - æˆåŠŸ';
                } else {
                    accessibilityTest.className += ' error';
                    accessibilityTest.innerHTML = '<strong>âŒ AccessibilityService åˆå§‹åŒ–</strong> - æ–¹æ³•ä¸å­˜åœ¨';
                }
            } catch (error) {
                accessibilityTest.className += ' error';
                accessibilityTest.innerHTML = `<strong>âŒ AccessibilityService åˆå§‹åŒ–</strong> - éŒ¯èª¤: ${error.message}`;
            }
            
            results.appendChild(accessibilityTest);
            
            // æ¸¬è©¦å°èˆªæœå‹™åˆå§‹åŒ–
            const navigationTest = document.createElement('div');
            navigationTest.className = 'test-item';
            
            try {
                if (window.NavigationService && typeof window.NavigationService.initialize === 'function') {
                    window.NavigationService.initialize();
                    navigationTest.className += ' success';
                    navigationTest.innerHTML = '<strong>âœ… NavigationService åˆå§‹åŒ–</strong> - æˆåŠŸ';
                } else {
                    navigationTest.className += ' error';
                    navigationTest.innerHTML = '<strong>âŒ NavigationService åˆå§‹åŒ–</strong> - æ–¹æ³•ä¸å­˜åœ¨';
                }
            } catch (error) {
                navigationTest.className += ' error';
                navigationTest.innerHTML = `<strong>âŒ NavigationService åˆå§‹åŒ–</strong> - éŒ¯èª¤: ${error.message}`;
            }
            
            results.appendChild(navigationTest);
            
            // æ¸¬è©¦æœå°‹æœå‹™åˆå§‹åŒ–
            const searchTest = document.createElement('div');
            searchTest.className = 'test-item';
            
            try {
                if (window.SearchService && typeof window.SearchService.initialize === 'function') {
                    window.SearchService.initialize();
                    searchTest.className += ' success';
                    searchTest.innerHTML = '<strong>âœ… SearchService åˆå§‹åŒ–</strong> - æˆåŠŸ';
                } else {
                    searchTest.className += ' error';
                    searchTest.innerHTML = '<strong>âŒ SearchService åˆå§‹åŒ–</strong> - æ–¹æ³•ä¸å­˜åœ¨';
                }
            } catch (error) {
                searchTest.className += ' error';
                searchTest.innerHTML = `<strong>âŒ SearchService åˆå§‹åŒ–</strong> - éŒ¯èª¤: ${error.message}`;
            }
            
            results.appendChild(searchTest);
            
            // æ¸¬è©¦ä¸»æ‡‰ç”¨ç¨‹å¼åˆå§‹åŒ–
            const appTest = document.createElement('div');
            appTest.className = 'test-item';
            
            try {
                if (window.App && typeof window.App.initialize === 'function') {
                    appTest.className += ' success';
                    appTest.innerHTML = '<strong>âœ… App ä¸»æ‡‰ç”¨ç¨‹å¼</strong> - æ–¹æ³•å­˜åœ¨';
                } else {
                    appTest.className += ' error';
                    appTest.innerHTML = '<strong>âŒ App ä¸»æ‡‰ç”¨ç¨‹å¼</strong> - æ–¹æ³•ä¸å­˜åœ¨';
                }
            } catch (error) {
                appTest.className += ' error';
                appTest.innerHTML = `<strong>âŒ App ä¸»æ‡‰ç”¨ç¨‹å¼</strong> - éŒ¯èª¤: ${error.message}`;
            }
            
            results.appendChild(appTest);
            
            // é¡¯ç¤ºæ¸¬è©¦å®Œæˆè¨Šæ¯
            const completeTest = document.createElement('div');
            completeTest.className = 'test-item info';
            completeTest.innerHTML = '<strong>ğŸ‰ æ¸¬è©¦å®Œæˆï¼</strong> æ‰€æœ‰æœå‹™å·²æª¢æŸ¥å®Œç•¢ã€‚';
            results.appendChild(completeTest);
        }
        
        // é é¢è¼‰å…¥å®Œæˆå¾Œé–‹å§‹æ¸¬è©¦
        window.addEventListener('load', testServices);
    </script>
</body>
</html>